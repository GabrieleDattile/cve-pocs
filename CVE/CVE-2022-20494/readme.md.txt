# CVE-2022-20494: Denial-of-Service Permanente in Android NotificationManagerService

## Descrizione

Questa applicazione dimostra una vulnerabilità di alta gravità di denial-of-service permanente nel `NotificationManagerService` di Android. Dopo l'esecuzione dell'exploit, il dispositivo mostrerà uno schermo nero o continuerà a bloccarsi e riavviarsi ripetutamente.

La vulnerabilità sfrutta l'API `addAutomaticZenRule` per esaurire la memoria del dispositivo, creando regole zen maliziose (note anche come regole "non disturbare") che occupano una grande quantità di memoria. L'app consente di controllare la dimensione e il numero di regole aggiunte: la quantità predefinita dovrebbe funzionare sulla maggior parte dei dispositivi.

## Requisiti

- **API target**: 24 (Android 7.0 Nougat)
- **Permesso richiesto**: `ACCESS_NOTIFICATION_POLICY`

## Compatibilità

L'app è progettata per Android 7.0 Nougat ma potrebbe non funzionare su dispositivi precedenti a Android Q, a causa delle modifiche alla struttura delle regole zen.

## Risoluzione

La vulnerabilità è stata corretta nel Bollettino di Sicurezza Android di gennaio 2023, che ha ridotto la lunghezza delle stringhe all'interno dei costruttori di `AutomaticZenRule`.

## Recupero del Dispositivo

Se il dispositivo è danneggiato a causa di questo bug e hai accesso ADB, puoi tentare di recuperarlo eseguendo il seguente comando ADB:

```bash
adb uninstall me.sithi.cve_2022_20494
